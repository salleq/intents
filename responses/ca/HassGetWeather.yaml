language: ca
responses:
  intents:
    HassGetWeather:
      default: >
        {% set weather_condition = {
          'clear': 'Cel clar',
          'clear-night': 'Cel clar',
          'cloudy': 'Cel ennuvolat',
          'exceptional': 'Clima excepcionalment advers',
          'fog': 'Boira',
          'hail': 'Precipitacions de calamarsa',
          'lightning': 'Tempesta',
          'lightning-rainy': 'Pluja i tempesta',
          'partlycloudy': 'Cels parcialment ennuvolats',
          'pouring': 'Plugim',
          'rainy': 'Pluja',
          'snowy': 'Precipitacions de neu',
          'snowy-rainy': 'Precipitacions de aiguaneu',
          'sunny': 'Sol',
          'windy': 'Vent',
          'windy-variant': 'Vent i n√∫vols'
        } %}
        {% set weather_condition = weather_condition.get((state.state | string).lower(), "") %}
        {% set temperature_raw = state.attributes.get('temperature') | float %}
        {% set temperature = temperature_raw | abs | round(1) | replace('.0', '') | replace('.',',') %}
        {% set temperature_units = 'grau' if temperature_raw | abs == 1 else 'graus' %}
        {% set temperature_negative = 'sota zero' if temperature_raw < 0 else '' %}
        {{ weather_condition }}, amb una temperatura de {{ temperature }} {{ temperature_units }} {{ temperature_negative }}
